<!DOCTYPE html>
<html ng-app="VideoChaining">
<head>
  <meta charset="utf-8">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="js/lib/videocontext.js"></script>
  <script>
  var main;
  function onClick(evt) {
    main.query(evt);
  }
  function onMouseMove(evt) {
    main.query(evt);
  }
  function onLoad() {
    // set size:
    main = require(process.cwd()+'/js/main.js');
    nw.Screen.Init();
    var theWindow = nw.Screen.screens[0];
    var videoCanvas = document.getElementById("videoCanvas");
    videoCanvas.addEventListener("keypress", onClick, false );
    videoCanvas.width = theWindow.bounds.width;
    videoCanvas.height = theWindow.bounds.height;
    theWindow.videoContext = new VideoContext(videoCanvas);
    theWindow.videoContext.DEFINITIONS = VideoContext.DEFINITIONS;
    var burnthrough = document.getElementById("burnthrough");
    burnthrough.width = theWindow.bounds.width;
    burnthrough.height = theWindow.bounds.height;

    main.start(theWindow.videoContext, burnthrough, $);
  }
  </script>
  <style>
  @font-face {
    font-family: 'TitleFont';
    src: url('/fonts/Moonlight Shadow.ttf');
  }
  .saveButton{
    background : blue;
    width: 20em;
    top : -200px;
    left : -200px;
    position : relative;
  }
  body {
    width: 100%;
    height: 100%;
    background-color:black;
  }
  #burnthrough {
    position: absolute;
    top: 0px;
    left: 0px;
    display: none;
  }
  </style>
</head>
<body onload="onLoad();" onkeyup="onClick(event)" onmousedown="onClick(event);" onkeydown="onClick(event)" onkeypress="onClick(event)">
  <canvas id="videoCanvas">
  </canvas>
  <canvas id="burnthrough">
  </canvas>
</body>
</html>
